{% extends baseLayoutPath %}

{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}
{% from "partials/components.html" import componentList with context %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {% if errors %}
        {{ govukErrorSummary({
          titleText: "There is a problem",
          errorList: checkErrorTemplates(errors)
        }) }}
      {% endif %}

      {% include "partials/heading.html" %}

      <p class="govuk-body">
        Based on your development location, we need some additional information to calculate your environmental levy.
      </p>

      <div class="govuk-inset-text">
        <strong>Your development falls within the following Environmental Development Plans:</strong>
        <ul class="govuk-list govuk-!-margin-top-2">
          <li>District Level Licensing - Thames Valley (DLL)</li>
        </ul>
      </div>

      {% include "partials/form.html" %}
    </div>

    <div class="govuk-grid-column-one-third">
      <aside class="app-related-items" role="complementary">
        <h2 class="govuk-heading-s">Development location</h2>
        <p class="govuk-body-s">
          <strong>Coordinates:</strong><br>
          {{ sidebarContext.location.coordinates }}
        </p>
        <p class="govuk-body-s">
          <strong>Boundary:</strong> {{ sidebarContext.location.boundary }}
        </p>

        <h2 class="govuk-heading-s govuk-!-margin-top-4">Applicable EDPs</h2>
        <ul class="govuk-list govuk-body-s">
          {% for edp in sidebarContext.applicableEDPs %}
            <li>
              <strong>{{ edp.code }}</strong><br>
              {{ edp.name }}
            </li>
          {% endfor %}
        </ul>

        <h2 class="govuk-heading-s govuk-!-margin-top-4">Available treatment sites</h2>
        <p class="govuk-body-s">{{ sidebarContext.treatmentSites }}</p>
      </aside>
    </div>
  </div>
{% endblock %}
