{% extends 'layouts/edp-base.njk' %}

{% from "govuk/components/panel/macro.njk" import govukPanel %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {{ govukPanel({
        titleText: "Payment successful",
        html: "Your reference number<br><strong>" + application.id + "</strong>"
      }) }}

      <p class="govuk-body">
        We have sent a payment confirmation to your registered email address.
      </p>

      <h2 class="govuk-heading-m">Payment details</h2>

      {{ govukSummaryList({
        rows: [
          {
            key: {
              text: "Payment reference"
            },
            value: {
              text: "PAY-" + application.id
            }
          },
          {
            key: {
              text: "Amount paid"
            },
            value: {
              text: application.levyAmount
            }
          },
          {
            key: {
              text: "Payment date"
            },
            value: {
              text: "Today"
            }
          },
          {
            key: {
              text: "Payment method"
            },
            value: {
              text: "Debit card ending ****1234"
            }
          }
        ]
      }) }}

      <h2 class="govuk-heading-m">What happens next</h2>

      <p class="govuk-body">
        Your Environmental Development Plan levy has been paid successfully.
      </p>

      <p class="govuk-body">
        You'll receive:
      </p>
      <ul class="govuk-list govuk-list--bullet">
        <li>A payment receipt by email immediately</li>
        <li>Your EDP certificate within 5 working days</li>
        <li>Confirmation that your development can proceed</li>
      </ul>

      <h3 class="govuk-heading-s">Your EDP certificate</h3>

      <p class="govuk-body">
        Once your certificate is issued, you must:
      </p>
      <ul class="govuk-list govuk-list--bullet">
        <li>Display it prominently at your development site</li>
        <li>Keep a copy with your planning documentation</li>
        <li>Provide copies to contractors and site managers</li>
      </ul>

      <div class="govuk-button-group">
        {{ govukButton({
          text: "Download receipt",
          href: "#"
        }) }}
        {{ govukButton({
          text: "View application",
          classes: "govuk-button--secondary",
          href: "/edp-calculator/view/" + application.id
        }) }}
      </div>

      <p class="govuk-body">
        <a href="/edp-calculator/applications" class="govuk-link">Return to all applications</a>
      </p>
    </div>

    <div class="govuk-grid-column-one-third">
      <aside class="govuk-!-padding-top-2">
        <h3 class="govuk-heading-s">Save your records</h3>
        <p class="govuk-body-s">
          You should save or print this confirmation for your records.
        </p>

        <h3 class="govuk-heading-s govuk-!-margin-top-4">Contact information</h3>
        <p class="govuk-body-s">
          If you have any questions about your payment or certificate:
        </p>
        <ul class="govuk-list govuk-body-s">
          <li>Phone: 0300 123 4567</li>
          <li>Email: edp@environment-agency.gov.uk</li>
        </ul>

        <h3 class="govuk-heading-s govuk-!-margin-top-4">Next steps</h3>
        <ol class="govuk-list govuk-list--number govuk-body-s">
          <li>Wait for your EDP certificate (5 working days)</li>
          <li>Display certificate at development site</li>
          <li>Begin development work</li>
        </ol>
      </aside>
    </div>
  </div>
{% endblock %}